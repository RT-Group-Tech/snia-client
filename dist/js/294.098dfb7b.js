"use strict";(self["webpackChunksnia"]=self["webpackChunksnia"]||[]).push([[294],{3446:function(t,e,s){s.d(e,{Z:function(){return k}});var a=s(6252),i=s(9963);const n=(0,a._)("label",{for:"to",class:"col-form-label mb-2"},"Désignation secteur",-1),o=["onUpdate:modelValue"],r={class:"input-group-append"},c=(0,a._)("i",{class:"flaticon-add"},null,-1),l=[c],d=["onClick"],u=(0,a._)("i",{class:"icon-trash"},null,-1),m=[u],b=["disabled"],p={key:0,class:"fa fa-spinner fa-spin mr-2"},g=(0,a._)("button",{type:"button",class:"btn btn-danger","data-dismiss":"modal"},"Fermer",-1);function h(t,e,s,c,u,h){const _=(0,a.up)("bs-modal");return(0,a.wg)(),(0,a.j4)(_,{onSubmit:h.submitSecteur,id:"secteurCreateModal",title:"Création secteur",size:"modal-lg"},{"body-content":(0,a.w5)((()=>[(0,a._)("div",null,[n,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(u.forms,((t,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"input-group mb-3",key:s},[(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":e=>t.secteur=e,placeholder:"Entrer la désignation secteur...",class:"form-control",required:""},null,8,o),[[i.nr,t.secteur]]),(0,a._)("div",r,[0===s?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:e[0]||(e[0]=(0,i.iM)(((...t)=>h.addField&&h.addField(...t)),["prevent"])),class:"btn btn-primary btn-icon",type:"submit"},l)):((0,a.wg)(),(0,a.iD)("button",{key:1,onClick:(0,i.iM)((t=>u.forms.splice(s,1)),["prevent"]),class:"btn btn-dark btn-icon"},m,8,d))])])))),128))])])),"footer-content":(0,a.w5)((()=>[(0,a._)("button",{type:"submit",disabled:u.submitLoading,id:"forms-submit-btn",class:"btn btn-success mr-1"},[u.submitLoading?((0,a.wg)(),(0,a.iD)("i",p)):(0,a.kq)("",!0),(0,a.Uk)("Soumettre les données")],8,b),g])),_:1},8,["onSubmit"])}s(7658);var _=s(5549),v={name:"ita-secteurs-create-modal",data(){return{submitLoading:!1,forms:[]}},mounted(){this.addField()},computed:{ita(){return this.$store.state.ita.currentIta}},methods:{submitSecteur(t){this.submitLoading=!0,_.Z.creerSecteur(this.forms,(t=>{this.submitLoading=!1,t&&($("#secteurCreateModal").modal("hide"),this.$store.dispatch("ita/voirSecteurs"),Swal({title:"Succès !",text:"Opération effectuée avec succès !",icon:"success",timer:3e3,showCancelButton:!1,showConfirmButton:!1}))}))},addField(){this.forms.push({secteur:"",ita_id:this.ita.ita_id})}}},f=s(3744);const w=(0,f.Z)(v,[["render",h]]);var k=w},4294:function(t,e,s){s.r(e),s.d(e,{default:function(){return Z}});var a=s(6252),i=s(9963),n=s(3577);const o={class:"main-panel"},r={class:"bg-primary2 pt-4 pb-5"},c={class:"container text-white py-2"},l={class:"d-flex align-items-center"},d=(0,a._)("div",{class:"mr-3"},[(0,a._)("h1",{class:"mb-3"},"Secteur"),(0,a._)("h5",{class:"op-7 mb-3"},"Créer & voir les secteurs !")],-1),u={class:"ml-auto"},m=(0,a._)("i",{class:"flaticon-add"},null,-1),b={class:"container mt--5"},p={class:"page-inner mt--3"},g={class:"row"},h={class:"col-12 col-sm-12 col-lg-12"},_={class:"row row-card-no-pd"},v={class:"col-md-12"},f={class:"card full-height"},w={class:"card-body"},k={class:"row"},y={class:"col-md-12"},C={key:0,class:"list-group list-group-bordered"},S=(0,a._)("button",{class:"btn btn-dark btn-icon btn-sm","data-toggle":"tooltip",title:"Suppression secteur"},[(0,a._)("i",{class:"icon-trash"})],-1),D={key:1,class:"p-5"};function L(t,e,s,L,M,$){const U=(0,a.up)("empty-state"),x=(0,a.up)("section-loader"),F=(0,a.up)("secteur-create-modal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",o,[(0,a._)("div",r,[(0,a._)("div",c,[(0,a._)("div",l,[d,(0,a._)("div",u,[(0,a._)("button",{type:"button",class:"btn btn-success",onClick:e[0]||(e[0]=(0,i.iM)((e=>t.$showBsModal("secteurCreateModal")),["prevent"]))},[m,(0,a.Uk)(" Nouveau secteur")])])])])]),(0,a._)("div",b,[(0,a._)("div",p,[(0,a._)("div",g,[(0,a._)("div",h,[(0,a._)("div",_,[(0,a._)("div",v,[(0,a._)("div",f,[(0,a._)("div",w,[(0,a._)("div",k,[(0,a._)("div",y,[(0,a.Wm)(x,{loading:M.dataLoading,data:$.secteurs},{default:(0,a.w5)((()=>[$.secteurs.length>0?((0,a.wg)(),(0,a.iD)("ul",C,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)($.secteurs,((t,e)=>((0,a.wg)(),(0,a.iD)("li",{key:e,class:"list-group-item d-flex justify-content-between align-items-center"},[(0,a.Uk)((0,n.zw)(t.secteur)+" ",1),S])))),128))])):((0,a.wg)(),(0,a.iD)("div",D,[(0,a.Wm)(U)]))])),_:1},8,["loading","data"])])])])])])])])])])])]),(0,a.Wm)(F)],64)}var M=s(3446),U={name:"Ita-secteurs-page",data(){return{dataLoading:!1}},components:{SecteurCreateModal:M.Z},mounted(){this.$initBsTooltip(),this.dataLoading=!0,this.$store.dispatch("ita/voirSecteurs").then((()=>this.dataLoading=!1)).catch((()=>this.dataLoading=!1))},computed:{secteurs(){return this.$store.getters["ita/GET_SECTEURS"]}},methods:{showSecteurCreateModal(){$("#secteurCreateModal").modal("show")}}},x=s(3744);const F=(0,x.Z)(U,[["render",L]]);var Z=F}}]);
//# sourceMappingURL=294.098dfb7b.js.map