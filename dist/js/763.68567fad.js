"use strict";(self["webpackChunksnia"]=self["webpackChunksnia"]||[]).push([[763],{4452:function(e,s,t){t.r(s),t.d(s,{default:function(){return x}});var a=t(6252),o=t(3577),c=t(9963);const i=e=>((0,a.dD)("data-v-047ad565"),e=e(),(0,a.Cn)(),e),l={class:"wrapper bubble-shadow","data-background-color":"blue"},n={class:"choice-module h-100 w-100"},r={class:"container h-100"},d={class:"container d-flex h-100"},u={class:"row my-auto w-75 mx-auto justify-content-center align-items-center"},m={class:"col-md-12 mb-3"},h={class:"text-center text-white animated zoomIn"},g=i((()=>(0,a._)("i",{class:"icon-user mx-2"},null,-1))),v=i((()=>(0,a._)("p",{class:"text-center text-white animated fadeInUp"},"Veuillez-vous connecter au module adéquat selon votre niveau d'accès",-1))),w=["disabled","onClick"],b={class:"card-body p-3 text-center"},f=i((()=>(0,a._)("div",{class:"h1 m-0"},[(0,a._)("i",{class:"icon-lock"})],-1))),p={class:"mb-3 title fw-mediumbold"};function _(e,s,t,i,_,$){return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",n,[(0,a._)("div",r,[(0,a._)("div",d,[(0,a._)("div",u,[(0,a._)("div",m,[(0,a._)("h1",h,[(0,a.Uk)("Bienvenue agent "),(0,a._)("strong",null,[g,(0,a.Uk)((0,o.zw)($.user.nom_complet),1)]),(0,a.Uk)("! ")]),v]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)($.modules,((e,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"col-3 col-sm-3 col-lg-3",key:s},[(0,a._)("button",{class:"card btn w-100 p-0 choice-card animated zoomIn",disabled:!e.enabled,onClick:(0,c.iM)((()=>$.toggleChoice(e)),["prevent"])},[(0,a._)("div",b,[f,(0,a._)("div",p,(0,o.zw)(e.name),1)])],8,w)])))),128))])])])])])}var k={name:"Modules",data(){return{moduleAccess:[]}},async mounted(){await this.$store.dispatch("auth/refreshLoggedUser"),await this.$store.dispatch("getAvailableAccess")},computed:{user(){return this.$store.getters["auth/GET_USER"]},modules(){this.user.access.access=this.user.access.access.toLocaleLowerCase();for(var e=0;e<this.$store.state.modules.length;e++){let s=this.$store.state.modules[e].name.toLocaleLowerCase();s===this.user.access.access&&(this.$store.state.modules[e].enabled=!0)}return this.$store.state.modules}},methods:{toggleChoice(e){let s=e.name.toLowerCase();if(this.user&&e.enabled){s.includes("ipa")&&(s="ipa");try{this.$router.replace({name:`${s}-secure-route`})}catch(t){$.notify({icon:"fas fa-info",title:"Accès refusé!",message:`Vous n'avez pas accès au module ${s}`},{type:"danger",placement:{from:"bottom",align:"right"},time:5e3})}}},triggerSubmit(e){$("#myForm").submit((e=>{console.log(JSON.stringify(e.target.value))}))},showModal(){let e=$("#configModal");e.modal("show")}}},y=t(3744);const C=(0,y.Z)(k,[["render",_],["__scopeId","data-v-047ad565"]]);var x=C}}]);
//# sourceMappingURL=763.68567fad.js.map