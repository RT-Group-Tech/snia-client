"use strict";(self["webpackChunksnia"]=self["webpackChunksnia"]||[]).push([[234],{9234:function(e,t,s){s.r(t),s.d(t,{default:function(){return x}});var a=s(6252),o=s(3577),c=s(9963);const n=e=>((0,a.dD)("data-v-ca8b918e"),e=e(),(0,a.Cn)(),e),l={class:"wrapper bubble-shadow","data-background-color":"blue"},i={class:"choice-module h-100 w-100"},r={class:"container h-100"},d={class:"container d-flex h-100"},u={class:"row my-auto w-75 mx-auto justify-content-center align-items-center"},m={class:"col-md-12 mb-3"},h={class:"text-center text-white animated zoomIn"},g=n((()=>(0,a._)("i",{class:"icon-user mx-2"},null,-1))),b=n((()=>(0,a._)("p",{class:"text-center text-white animated fadeInUp"},"Veuillez-vous connecter au module adéquat selon votre niveau d'accès",-1))),v=["disabled","onClick"],f={class:"card-body p-3 text-center"},w=n((()=>(0,a._)("div",{class:"h1 m-0"},[(0,a._)("i",{class:"icon-lock"})],-1))),p={class:"mb-3 title fw-mediumbold"};function _(e,t,s,n,_,k){return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",i,[(0,a._)("div",r,[(0,a._)("div",d,[(0,a._)("div",u,[(0,a._)("div",m,[(0,a._)("h1",h,[(0,a.Uk)("Bienvenue agent "),(0,a._)("strong",null,[g,(0,a.Uk)((0,o.zw)(k.user.nom_complet),1)]),(0,a.Uk)("! ")]),b]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(k.modules,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"col-3 col-sm-3 col-lg-3",key:t},[(0,a._)("button",{class:"card btn w-100 p-0 choice-card animated zoomIn",disabled:!e.enabled,onClick:(0,c.iM)((()=>k.toggleChoice(e)),["prevent"])},[(0,a._)("div",f,[w,(0,a._)("div",p,(0,o.zw)(e.name),1)])],8,v)])))),128))])])])])])}var k={name:"Modules",async mounted(){await this.$store.dispatch("auth/refreshLoggedUser"),this.modules.forEach((e=>{let t=e.name.toLocaleLowerCase();t===this.user.access.access&&(e.enabled=!0)}))},computed:{user(){return this.$store.getters["auth/GET_USER"]},modules(){return this.$store.state.modules}},methods:{toggleChoice(e){let t=e.name.toLowerCase();if(this.user&&e.enabled)try{this.$router.replace({name:`${t}-secure-route`})}catch(s){$.notify({icon:"fas fa-info",title:"Accès refusé!",message:`Vous n'avez pas accès au module ${t}`},{type:"danger",placement:{from:"bottom",align:"right"},time:5e3})}},triggerSubmit(e){$("#myForm").submit((e=>{console.log(JSON.stringify(e.target.value))}))},showModal(){let e=$("#configModal");e.modal("show")}}},y=s(3744);const C=(0,y.Z)(k,[["render",_],["__scopeId","data-v-ca8b918e"]]);var x=C}}]);
//# sourceMappingURL=234.cb974ec9.js.map