"use strict";(self["webpackChunksnia"]=self["webpackChunksnia"]||[]).push([[142],{7847:function(e,t,a){a.d(t,{Z:function(){return q}});var i=a(6252),l=a(9963),s=a(3577);const n={class:"form-group form-group-default bg-light"},o=(0,i._)("label",{class:"fw-extrabold"},"Nom ITA",-1),r={class:"form-group form-group-default bg-light"},d=(0,i._)("label",{class:"fw-extrabold"},"CODE ITA",-1),c={class:"row"},u={class:"col-md-6"},p={class:"form-group form-group-default bg-light"},m=(0,i._)("label",{class:"fw-extrabold"},"Superficie",-1),f={class:"input-group"},g=(0,i._)("div",{class:"input-group-append p-md-0 bg-transparent"},[(0,i._)("span",{class:"input-group-text"},[(0,i.Uk)("Km"),(0,i._)("sup",null,"2")])],-1),h={key:0,class:"col-md-6"},b={class:"form-group form-group-default bg-light"},_=(0,i._)("label",null,[(0,i.Uk)("Province "),(0,i._)("sup",{class:"text-danger"},"*")],-1),v={class:"select2-input"},y=(0,i._)("option",{value:""}," ",-1),w=["value"],I={class:"row"},A={class:"col-md-6"},T={class:"form-group form-group-default bg-light"},S=(0,i._)("label",{class:"fw-extrabold"},"Bureau ITA: GPS/Longitude",-1),C={class:"input-group"},x={class:"col-md-6"},D={class:"form-group form-group-default bg-light"},M=(0,i._)("label",{class:"fw-extrabold"},"Bureau ITA: GPS/Latitude",-1),E={class:"input-group"},k={key:0,class:"fa fa-spinner fa-spin"},R=(0,i._)("button",{class:"btn btn-danger","data-dismiss":"modal"},"Fermer",-1);function N(e,t,a,N,V,L){const $=(0,i.up)("bs-modal");return(0,i.wg)(),(0,i.j4)($,{title:L.selectedIpa?`Enregistrer une ITA pour ${L.selectedIpa.province.toUpperCase()}`:"Enregistrer une ITA",id:"itaCreateModal",onSubmit:(0,l.iM)(L.createIta,["prevent"]),size:"modal-lg"},{"body-content":(0,i.w5)((()=>[(0,i._)("div",n,[o,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>V.form.ita=e),class:"form-control",name:"nom",placeholder:"Saisir le nom de l'ITA...",required:""},null,512),[[l.nr,V.form.ita]])]),(0,i._)("div",r,[d,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>V.form.code_ita=e),class:"form-control",name:"population",placeholder:"Saisir le code de l'ITA",required:""},null,512),[[l.nr,V.form.code_ita]])]),(0,i._)("div",c,[(0,i._)("div",u,[(0,i._)("div",p,[m,(0,i._)("div",f,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>V.form.superficie=e),class:"form-control",name:"postnom",placeholder:"Saisir la superficie...",required:""},null,512),[[l.nr,V.form.superficie]]),g])])]),L.selectedIpa?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",h,[(0,i._)("div",b,[_,(0,i._)("div",v,[(0,i.wy)((0,i._)("select",{id:"provinceSelect","onUpdate:modelValue":t[3]||(t[3]=e=>V.form.ipa_id=e),name:"basic",class:"form-control",required:""},[y,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(L.ipas,((e,t)=>((0,i.wg)(),(0,i.iD)("option",{value:e.ipa_id,key:t},(0,s.zw)(e.province),9,w)))),128))],512),[[l.bM,V.form.ipa_id]])])])]))]),(0,i._)("div",I,[(0,i._)("div",A,[(0,i._)("div",T,[S,(0,i._)("div",C,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>V.form.longitude=e),class:"form-control",name:"postnom",placeholder:"Saisir la longitude..."},null,512),[[l.nr,V.form.longitude]])])])]),(0,i._)("div",x,[(0,i._)("div",D,[M,(0,i._)("div",E,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>V.form.latitude=e),class:"form-control",name:"postnom",placeholder:"Saisir la latitude..."},null,512),[[l.nr,V.form.latitude]])])])])])])),"footer-content":(0,i.w5)((()=>[(0,i._)("button",{id:"submit-btn",type:"submit",class:(0,s.C_)(["btn btn-success",V.submitLoading?"disabled":""]),style:{"margin-right":"4px"}},[V.submitLoading?((0,i.wg)(),(0,i.iD)("i",k)):(0,i.kq)("",!0),(0,i.Uk)(" Enregistrer ITA ")],2),R])),_:1},8,["title","onSubmit"])}var V=a(243),L={name:"ita-create-modal",data(){let e={ipa_id:"",ita:"",code_ita:"",superficie:"",longitude:"",latitude:""};return{form:e,submitLoading:!1}},methods:{closeModal(){$("#itaCreateModal").modal("hide")},createIta(e){console.log(JSON.stringify(this.form)),this.submitLoading=!0,null!==this.selectedIpa&&(this.form.ipa_id=this.selectedIpa.ipa_id),V.Z.creerIta(this.form,(e=>{this.submitLoading=!1,this.$store.dispatch("dantic/viewItas"),null!==this.selectedIpa&&this.$store.dispatch("dantic/getItasOfIpa",this.selectedIpa.ipa_id),$("#itaCreateModal").modal("hide"),this.$emit("reloadData"),this.cleanFields()}))},cleanFields(){this.form.ita="",this.form.superficie="",this.form.code_ita="",this.form.longitude="",this.form.latitude=""}},computed:{ipas(){return this.$store.getters["dantic/GET_IPAS"]},selectedIpa(){return this.$store.state.dantic.selectedIpa}}},P=a(3744);const U=(0,P.Z)(L,[["render",N]]);var q=U},4142:function(e,t,a){a.r(t),a.d(t,{default:function(){return E}});var i=a(6252);const l={class:"main-panel"},s={class:"container"},n={class:"panel-header"},o={class:"page-inner py-5"},r={class:"page-header"},d=(0,i._)("h4",{class:"page-title"}," Inspection Territorial Agricole ",-1),c={class:"breadcrumbs"},u={class:"nav-home"},p=(0,i._)("i",{class:"flaticon-home"},null,-1),m=(0,i._)("li",{class:"separator"},[(0,i._)("i",{class:"flaticon-right-arrow"})],-1),f=(0,i._)("li",{class:"nav-item"},[(0,i._)("a",{href:"#"},"Liste des ITAs")],-1),g={class:"page-inner mt--5"},h={class:"row mt--2"},b={class:"col-md-12"},_={class:"card full-height mt-4 animated fadeIn"},v={class:"card-header d-flex justify-content-between"},y=(0,i._)("h4",{class:"card-title"},"Liste des ITAs",-1),w=(0,i._)("i",{class:"flaticon-add mr-1"},null,-1),I=(0,i._)("div",{class:"card-body"},[(0,i._)("div",{class:"table-responsive"},[(0,i._)("table",{id:"itasTable",class:"display table table-striped table-hover"})])],-1);function A(e,t,a,A,T,S){const C=(0,i.up)("router-link"),x=(0,i.up)("ita-create-modal"),D=(0,i.up)("d-footer");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("div",s,[(0,i._)("div",n,[(0,i._)("div",o,[(0,i._)("div",r,[d,(0,i._)("ul",c,[(0,i._)("li",u,[(0,i.Wm)(C,{to:{name:"dashboard-route"}},{default:(0,i.w5)((()=>[p])),_:1})]),m,f])])])]),(0,i._)("div",g,[(0,i._)("div",h,[(0,i._)("div",b,[(0,i._)("div",_,[(0,i._)("div",v,[y,(0,i._)("button",{type:"button",title:"Enregistrer ITA","data-toggle":"tooltip",class:"btn btn-success d-none d-sm-inline-block",onClick:t[0]||(t[0]=(...e)=>S.showCreateItaModal&&S.showCreateItaModal(...e))},[w,(0,i.Uk)("Nouvelle ITA ")])]),I])])])])]),(0,i.Wm)(x,{onReloadData:S.onReloadData},null,8,["onReloadData"]),(0,i.Wm)(D)])}var T=a(7847),S=a(243),C=a(7255),x={name:"Ipa-view",components:{ItaCreateModal:T.Z},data(){return{searchword:"",dataLoading:!0,table:null}},async mounted(){let e=await this.initAjaxDataTable();this.table=e,$("#itasTable tbody").on("click",".btn-info",(function(t){let a=e.row(t.target.closest("tr")).data();console.log(JSON.stringify(a))})),$("#itasTable tbody").on("click",".btn-danger",(t=>{let a=e.row(t.target.closest("tr")).data();console.log("delete ita",a.ita_ip),this.deleteIta(a.ita_ip)})),this.$initBsTooltip()},methods:{async deleteIta(e){this.$swal({title:"Etes-vous sure?",showCancelButton:!0,showCloseButton:!0,confirmButtonText:"Oui",cancelButtonText:"Annuler"}).then((async t=>{if(t.value){var a=new FormData;a.append("ita_ip",e),await S.Z.deleteIta(a,(function(e){console.log("finished.."),console.log(e)})),window.location.reload()}}))},showCreateItaModal(){this.$store.state.dantic.selectedIpa=null,$("#itaCreateModal").modal("show")},async initAjaxDataTable(){const e={emptyTable:"Aucune donnée disponible dans le tableau",loadingRecords:"Chargement...",processing:"Traitement...",autoFill:{cancel:"Annuler",fill:"Remplir toutes les cellules avec <i>%d</i>",fillHorizontal:"Remplir les cellules horizontalement",fillVertical:"Remplir les cellules verticalement"},searchBuilder:{conditions:{date:{after:"Après le",before:"Avant le",between:"Entre",empty:"Vide",not:"Différent de",notBetween:"Pas entre",notEmpty:"Non vide",equals:"Égal à"},number:{between:"Entre",empty:"Vide",gt:"Supérieur à",gte:"Supérieur ou égal à",lt:"Inférieur à",lte:"Inférieur ou égal à",not:"Différent de",notBetween:"Pas entre",notEmpty:"Non vide",equals:"Égal à"},string:{contains:"Contient",empty:"Vide",endsWith:"Se termine par",not:"Différent de",notEmpty:"Non vide",startsWith:"Commence par",equals:"Égal à",notContains:"Ne contient pas",notEndsWith:"Ne termine pas par",notStartsWith:"Ne commence pas par"},array:{empty:"Vide",contains:"Contient",not:"Différent de",notEmpty:"Non vide",without:"Sans",equals:"Égal à"}},add:"Ajouter une condition",button:{0:"Recherche avancée",_:"Recherche avancée (%d)"},clearAll:"Effacer tout",condition:"Condition",data:"Donnée",deleteTitle:"Supprimer la règle de filtrage",logicAnd:"Et",logicOr:"Ou",title:{0:"Recherche avancée",_:"Recherche avancée (%d)"},value:"Valeur",leftTitle:"Désindenter le critère",rightTitle:"Indenter le critère"},searchPanes:{clearMessage:"Effacer tout",count:"{total}",title:"Filtres actifs - %d",collapse:{0:"Volet de recherche",_:"Volet de recherche (%d)"},countFiltered:"{shown} ({total})",emptyPanes:"Pas de volet de recherche",loadMessage:"Chargement du volet de recherche...",collapseMessage:"Réduire tout",showMessage:"Montrer tout"},buttons:{collection:"Collection",colvis:"Visibilité colonnes",colvisRestore:"Rétablir visibilité",copy:"Copier",copySuccess:{1:"1 ligne copiée dans le presse-papier",_:"%d lignes copiées dans le presse-papier"},copyTitle:"Copier dans le presse-papier",csv:"CSV",excel:"Excel",pageLength:{"-1":"Afficher toutes les lignes",_:"Afficher %d lignes",1:"Afficher 1 ligne"},pdf:"PDF",print:"Imprimer",copyKeys:"Appuyez sur ctrl ou u2318 + C pour copier les données du tableau dans votre presse-papier.",createState:"Créer un état",removeAllStates:"Supprimer tous les états",removeState:"Supprimer",renameState:"Renommer",savedStates:"États sauvegardés",stateRestore:"État %d",updateState:"Mettre à jour"},decimal:",",datetime:{previous:"Précédent",next:"Suivant",hours:"Heures",minutes:"Minutes",seconds:"Secondes",unknown:"-",amPm:["am","pm"],months:{0:"Janvier",2:"Mars",3:"Avril",4:"Mai",5:"Juin",6:"Juillet",8:"Septembre",9:"Octobre",10:"Novembre",1:"Février",11:"Décembre",7:"Août"},weekdays:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},info:"Affichage de _START_ à _END_ sur _TOTAL_ entrées",infoEmpty:"Affichage de 0 à 0 sur 0 entrées",infoFiltered:"(filtrées depuis un total de _MAX_ entrées)",lengthMenu:"Afficher _MENU_ entrées",paginate:{first:"Première",last:"Dernière",next:"Suivante",previous:"Précédente"},zeroRecords:"Aucune entrée correspondante trouvée",aria:{sortAscending:" : activer pour trier la colonne par ordre croissant",sortDescending:" : activer pour trier la colonne par ordre décroissant"},infoThousands:" ",search:"Rechercher :",thousands:" "};var t=$("#itasTable").DataTable({dom:"Blfrtip",language:e,buttons:[{extend:"excel",className:"bg-primary mr-1 mb-0"},{extend:"pdf",customize:function(e){e.content[0].text="Liste des Inspéctions Territoriales Agricoles",e.styles.title.alignment="center",e.styles.title.fontSize=20,e.content[1].table.widths=Array(e.content[1].table.body[0].length+1).join("*").split("")},className:"bg-primary mr-1 mb-0"},{extend:"print",className:"bg-primary mb-0"}],lengthChange:!1,ajax:{url:C.Z.url+"/dantic/ita_url/viewIta",dataSrc:"reponse"},columns:[{title:"Libellé ITA",data:"ita"},{title:"Supérficie",data:"superficie"},{title:"",data:null,defaultContent:' <div class="d-flex"><button style="display: none;" class="btn btn-icon btn-info mr-2" type="button""> <i class="icon-note"></i> </button>  <button class="btn btn-icon btn-danger" type="button""> <i class="icon-trash"></i> </button></div>  '}]});return t.buttons().container().appendTo("#agentsTable_wrapper .col-md-6:eq(0)"),t},onReloadData(){this.table.ajax.reload()}}},D=a(3744);const M=(0,D.Z)(x,[["render",A]]);var E=M}}]);
//# sourceMappingURL=142.64f1c3c2.js.map