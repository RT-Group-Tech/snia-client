{"version":3,"file":"js/444.f06ec893.js","mappings":"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","sources":["webpack://snia/./src/views/auth/modules.vue","webpack://snia/./src/views/auth/modules.vue?13d7"],"sourcesContent":["<template>\r\n    <div class=\"wrapper bubble-shadow\" data-background-color=\"blue\">\r\n        <div class=\"choice-module h-100 w-100\">\r\n            <div class=\"container h-100 \">\r\n                <div class=\"container d-flex h-100\">\r\n                    <div class=\"row my-auto w-75 mx-auto justify-content-center align-items-center\">\r\n                        <div class=\"col-md-12 mb-3\">\r\n                            <h1 class=\"text-center text-white animated zoomIn\">Bienvenue agent <strong> <i\r\n                                        class=\"icon-user mx-2\"></i>{{\r\n                                            user.nom_complet }} </strong>!\r\n                            </h1>\r\n                            <p class=\"text-center text-white animated fadeInUp\">Veuillez-vous connecter au module adéquat\r\n                                selon votre niveau d'accès</p>\r\n                        </div>\r\n                        <div class=\"col-3 col-sm-3 col-lg-3\" v-for=\"(mod, index) in modules\" :key=\"index\">\r\n                            <button class=\"card btn w-100 p-0 choice-card animated zoomIn\" :disabled=\"!mod.enabled\"\r\n                                @click.prevent=\"() => toggleChoice(mod)\">\r\n                                <div class=\"card-body p-3 text-center\">\r\n                                    <div class=\"h1 m-0\"><i class=\"icon-lock\"></i></div>\r\n                                    <div class=\"mb-3 title fw-mediumbold\">{{ mod.name }}</div>\r\n                                </div>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    name: 'Modules',\r\n    data()\r\n    {\r\n      return {\r\n        moduleAccess:[]\r\n      };\r\n    },\r\n    async mounted() {\r\n        await this.$store.dispatch(\"auth/refreshLoggedUser\");\r\n        await this.$store.dispatch(\"getAvailableAccess\");\r\n\r\n    },\r\n\r\n    computed: {\r\n        user() {\r\n            return this.$store.getters['auth/GET_USER']\r\n        },\r\n        modules() {\r\n          // eslint-disable-next-line vue/no-side-effects-in-computed-properties\r\n          this.user.access.access=this.user.access.access.toLocaleLowerCase();\r\n\r\n          for(var i=0; i<this.$store.state.modules.length; i++)\r\n          {\r\n            let access = this.$store.state.modules[i].name.toLocaleLowerCase();\r\n            console.clear(); console.log(this.user.access.access);\r\n            if (access.includes(this.user.access.access))\r\n            {\r\n              // eslint-disable-next-line vue/no-side-effects-in-computed-properties\r\n              this.$store.state.modules[i].enabled = true;\r\n            }\r\n          }\r\n            return this.$store.state.modules\r\n        }\r\n\r\n    },\r\n    methods: {\r\n        toggleChoice(choice) {\r\n            let mod = choice.name.toLowerCase();\r\n            if (this.user)\r\n            {\r\n                if (choice.enabled)\r\n                {\r\n                    if(mod.includes(\"ipa\"))\r\n                    {\r\n                      mod=\"ipa\";\r\n                    }console.clear(); console.log(mod);\r\n                    try {\r\n                        this.$router.replace({\r\n                            name: `${mod}-secure-route`,\r\n                        });\r\n                    } catch (error) {\r\n                        $.notify(\r\n                            {\r\n                                icon: \"fas fa-info\",\r\n                                title: \"Accès refusé!\",\r\n                                message: `Vous n'avez pas accès au module ${mod}`,\r\n                            },\r\n                            {\r\n                                type: \"danger\",\r\n                                placement: {\r\n                                    from: \"bottom\",\r\n                                    align: \"right\",\r\n                                },\r\n                                time: 5000,\r\n                            }\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        triggerSubmit(e) {\r\n            $('#myForm').submit((e) => {\r\n                console.log(JSON.stringify(e.target.value));\r\n            })\r\n        },\r\n\r\n        showModal() {\r\n            let modal = $(\"#configModal\");\r\n            modal.modal('show');\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.choice-module {\r\n    background-color: #1572E8;\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n}\r\n\r\n.choice-module .choice-card {\r\n    transition: .3s ease-in-out;\r\n}\r\n\r\n\r\n\r\n.choice-module .choice-card:hover {\r\n    background-color: #010f3c;\r\n    border: none !important;\r\n    box-shadow: 0px;\r\n}\r\n\r\n.choice-module .choice-card:hover .card-body {\r\n    color: #ffffff !important;\r\n}\r\n\r\n.disabled {\r\n    background-color: #dadadaeb !important;\r\n    border: none;\r\n    cursor: not-allowed !important;\r\n}\r\n\r\n.disabled:hover .card-body {\r\n    color: #3e3c3c !important;\r\n}\r\n</style>\r\n\r\n<style scoped src=\"@/assets/css/atlantis.css\"></style>\r\n","import { render } from \"./modules.vue?vue&type=template&id=0bd23ad3&scoped=true\"\nimport script from \"./modules.vue?vue&type=script&lang=js\"\nexport * from \"./modules.vue?vue&type=script&lang=js\"\n\nimport \"./modules.vue?vue&type=style&index=0&id=0bd23ad3&scoped=true&lang=css\"\nimport \"@/assets/css/atlantis.css?vue&type=style&index=1&id=0bd23ad3&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\xampp\\\\htdocs\\\\snia-client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0bd23ad3\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","$options","nom_complet","_hoisted_9","_Fragment","mod","index","key","disabled","enabled","onClick","_hoisted_11","_hoisted_12","_hoisted_13","name","data","moduleAccess","async","this","$store","dispatch","computed","user","getters","modules","access","toLocaleLowerCase","i","state","length","console","clear","log","includes","methods","toggleChoice","choice","toLowerCase","$router","replace","error","$","notify","icon","title","message","type","placement","from","align","time","triggerSubmit","e","submit","JSON","stringify","target","value","showModal","modal","__exports__","render"],"sourceRoot":""}